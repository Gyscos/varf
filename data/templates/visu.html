<html>
	<head>
		<title>Varf: {{title}}/{{name}}</title>
		<link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.css" rel="stylesheet" type="text/css">

		<style>
.attribute_list {
	float: left;
	overflow: auto;
	height: 100%;
	width: 400px;
}

.attribute_row {
	width: 90%;
	margin-top: 5px;
	margin-bottom: 5px;
	padding-top: 3px;
	padding-bottom: 3px;
	text-align: center;
	background: #eee;
}

.graph {
	overflow: auto;
	height: 100%;
}
		</style>
	</head>
	<body>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js" charset="utf-8"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>
		<div class="attribute_list">
			{{#each attributes}}
			<div class="attribute_row">
			<a href="/?att_id={{@index}}">{{.}}</a>
			</div>
			{{/each}}
		</div>
		<div class="graph">
			<h1>{{title}} / {{name}}</h1>
			<div id="chart"></div>

			<script>

var rows = [];
var labels = ['x', '0', '1', '% of 1'];
rows.push(labels);

var row;
{{#each samples}}

row = [];
row.push({{min}});

{{#each slices}}
row.push({{.}}.length);
{{/each}}

row.push(row[2]/(row[2]+row[1]));

rows.push(row);

{{/each}}

var chart = c3.generate({
	padding: { top: 10, },
	bindto: '#chart',
	data: {
		x: 'x',
		rows: rows,
		types: {
			'0': 'area',
			'1': 'area',
		},
		axes: {
			'% of 1': 'y2'
		},

		groups: [['0', '1']]
	},
	axis: {
		y2: {
			padding: {bottom: 0, top: 10},
			min: 0,
			max: 1,
			show: true,
		},
		x: {

		},
	},
});

			</script>
		</div>
	</body>
</html>

